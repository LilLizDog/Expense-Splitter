{% extends "base.html" %}

{% block title %}Add Friend | Expense Splitter{% endblock %}

{% block styles %}
<style>
  .add-friend-layout {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  /* Back button at top */
  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    border-radius: 8px;
    color: var(--green-600);
    font-size: 1.05rem;
    font-weight: 600;
    text-decoration: none;
    margin-bottom: 8px;
  }

  .back-link:hover {
    background: #e8f8ee;
  }

  .back-icon {
    width: 20px;
    height: 20px;
  }

  .required-star {
    color: var(--red);
    margin-left: 2px;
  }

  .add-friend-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px;
  }

  @media (max-width: 640px) {
    .add-friend-grid {
      grid-template-columns: 1fr;
    }
  }

  .add-friend-actions {
    display: flex;
    gap: 8px;
    margin-top: 8px;
  }

  .btn-primary {
    background: var(--green);
    color: #fff;
    border: none;
    border-radius: 999px;
    padding: 8px 14px;
    font-size: 0.9rem;
    cursor: pointer;
  }

  .btn-primary:disabled {
    background: #9ca3af;
    cursor: not-allowed;
  }

  .btn-outline {
    background: #fff;
    color: var(--black);
    border-radius: 999px;
    border: 1px solid #e5e7eb;
    padding: 7px 14px;
    font-size: 0.9rem;
    cursor: pointer;
  }

  .btn-outline:hover {
    background: #f3f4f6;
  }

  .field-label {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .field-input,
  .field-textarea {
    width: 100%;
    border-radius: 10px;
    border: 1px solid #e5e7eb;
    padding: 8px 10px;
    font-size: 0.9rem;
  }

  .field-textarea {
    min-height: 80px;
    resize: vertical;
  }

  .af-message {
    margin-top: 4px;
    font-size: 0.85rem;
  }

  .af-message--ok {
    color: #16a34a;
  }

  .af-message--error {
    color: #b91c1c;
  }
</style>
{% endblock %}

{% block content %}
<section class="panel">

  <!-- Back button -->
  <a class="back-link" href="/friends">
    <svg class="back-icon" viewBox="0 0 24 24">
      <path
        d="M15 6l-6 6 6 6"
        stroke="currentColor"
        stroke-width="2"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>
    <span>Friends</span>
  </a>

  <div class="add-friend-layout">

    <div>
      <h1 style="margin: 6px 0 6px; font-size: 1.3rem;">Add Friend</h1>
      <p class="muted" style="margin: 0;">
        Add someone you split expenses with using their name and username.
      </p>
    </div>

    <!-- First and last name side by side -->
    <div class="add-friend-grid">
      <div>
        <div class="field-label">
          First name <span class="required-star">*</span>
        </div>
        <input
          id="af-first-name"
          type="text"
          class="field-input"
          placeholder="Alice"
          autocomplete="off"
          required
        />
      </div>

      <div>
        <div class="field-label">
          Last name <span class="required-star">*</span>
        </div>
        <input
          id="af-last-name"
          type="text"
          class="field-input"
          placeholder="Wonder"
          autocomplete="off"
          required
        />
      </div>
    </div>

    <div>
      <div class="field-label">
        Username <span class="required-star">*</span>
      </div>
      <input
        id="af-username"
        type="text"
        class="field-input"
        placeholder="alice_wonder"
        autocomplete="off"
        required
      />
      <div id="af-message" class="af-message"></div>
    </div>

    <div>
      <div class="field-label">Notes (optional)</div>
      <textarea
        id="af-notes"
        class="field-textarea"
        placeholder="Roommate from CS3300, splits rent and groceries"
      ></textarea>
    </div>

    <div class="add-friend-actions">
      <button
        type="button"
        class="btn-primary"
        id="af-save-btn"
        disabled
      >
        Save Friend
      </button>

      <button
        type="button"
        class="btn-outline"
        onclick="window.location.href='/friends';"
      >
        Cancel
      </button>
    </div>

  </div>
</section>
{% endblock %}

{% block scripts %}
  <script src="/static/js/add_friend.js"></script>
{% endblock %}


